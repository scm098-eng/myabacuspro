{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/ai/flows/chatFlow.ts"],"sourcesContent":["'use server';\n\nimport { MessageData } from 'genkit';\nimport { z } from 'zod';\n\nconst ChatInputSchema = z.object({\n  history: z.array(z.any()),\n});\n\n// Fallback responses based on common questions\nconst fallbackResponses = {\n  greeting: \"Hello! I'm your Abacus Pro assistant. I help users learn mental math using abacus techniques. How can I assist you today?\",\n  \n  whatIsAbacusPro: `Abacus Pro is a mental arithmetic training app that helps you:\n\n• Learn traditional abacus calculation methods\n• Develop faster mental math skills\n• Practice with interactive exercises\n• Track your progress over time\n• Master addition, subtraction, multiplication, and division\n\nThe app teaches you to visualize the abacus in your mind, allowing you to perform complex calculations quickly and accurately.`,\n\n  howToUse: `Here's how to get started with Abacus Pro:\n\n1. **Begin with Basics**: Start with simple addition and subtraction\n2. **Practice Daily**: Spend 10-15 minutes daily for best results\n3. **Visualize the Abacus**: Learn to see the beads in your mind\n4. **Progress Gradually**: Move to harder problems as you improve\n5. **Use Practice Mode**: Regular practice builds muscle memory\n\nWould you like specific guidance on any of these areas?`,\n\n  benefits: `Benefits of using Abacus Pro:\n\n• **Speed**: Calculate faster than a calculator\n• **Accuracy**: Reduce mathematical errors\n• **Concentration**: Improve focus and attention\n• **Memory**: Enhance working memory capacity\n• **Confidence**: Build mathematical confidence\n• **Brain Training**: Exercise both brain hemispheres\n\nThe abacus method has been proven effective for centuries!`,\n\n  subscriptionInfo: `To upgrade to a Pro subscription and unlock all features, you can visit the 'Pricing' page from the main menu. On that page, you'll find the details of the Pro plan and a secure button to complete your subscription. It's a simple and quick process!`,\n\n  default: \"I'm here to help you with Abacus Pro! You can ask me about how to use the app, abacus techniques, mental math practice, or any features you'd like to learn about.\"\n};\n\nfunction getResponse(userMessage: string): string {\n  const message = userMessage.toLowerCase();\n  \n  if (message.includes('hello') || message.includes('hi') || message.includes('hey')) {\n    return fallbackResponses.greeting;\n  }\n  \n  if (message.includes('what is') || message.includes('about') || message.includes('use of') || message.includes('abacus pro')) {\n    return fallbackResponses.whatIsAbacusPro;\n  }\n  \n  if (message.includes('how to') || message.includes('get started') || message.includes('begin')) {\n    return fallbackResponses.howToUse;\n  }\n  \n  if (message.includes('benefit') || message.includes('why') || message.includes('advantage')) {\n    return fallbackResponses.benefits;\n  }\n\n  if (message.includes('subscribe') || message.includes('subscription') || message.includes('pricing') || message.includes('pro plan')) {\n    return fallbackResponses.subscriptionInfo;\n  }\n  \n  if (message.includes('help') || message.includes('support') || message.includes('guide')) {\n    return fallbackResponses.howToUse;\n  }\n  \n  return fallbackResponses.default;\n}\n\nexport async function chat(input: z.infer<typeof ChatInputSchema>) {\n  try {\n    console.log('Chat function called with fallback system');\n    \n    const { history } = input;\n    const lastMessage = history[history.length - 1];\n    const userText = lastMessage?.content?.[0]?.text || '';\n    \n    console.log('User message:', userText);\n    \n    // Get appropriate response\n    const responseText = getResponse(userText);\n    \n    // Create streaming effect\n    async function* createResponseStream() {\n      const words = responseText.split(' ');\n      let currentText = '';\n      \n      for (let i = 0; i < words.length; i++) {\n        currentText += (currentText ? ' ' : '') + words[i];\n        yield {\n          role: 'model',\n          content: [{ text: currentText }]\n        };\n        \n        // Adjust speed based on content length\n        const delay = responseText.length > 100 ? 30 : 50;\n        await new Promise(resolve => setTimeout(resolve, delay));\n      }\n    }\n    \n    return createResponseStream();\n    \n  } catch (error: any) {\n    console.error('Fallback chat error:', error);\n    \n    async function* createErrorStream() {\n      yield {\n        role: 'model',\n        content: [{ text: \"I apologize, but I'm experiencing technical difficulties. Please try again in a moment.\" }]\n      };\n    }\n    \n    return createErrorStream();\n  }\n}\n"],"names":[],"mappings":";;;;;AAGA;;;;;AAEA,MAAM,kBAAkB,oIAAA,CAAA,IAAC,CAAC,MAAM,CAAC;IAC/B,SAAS,oIAAA,CAAA,IAAC,CAAC,KAAK,CAAC,oIAAA,CAAA,IAAC,CAAC,GAAG;AACxB;AAEA,+CAA+C;AAC/C,MAAM,oBAAoB;IACxB,UAAU;IAEV,iBAAiB,CAAC;;;;;;;;8HAQ0G,CAAC;IAE7H,UAAU,CAAC;;;;;;;;uDAQ0C,CAAC;IAEtD,UAAU,CAAC;;;;;;;;;0DAS6C,CAAC;IAEzD,kBAAkB,CAAC,wPAAwP,CAAC;IAE5Q,SAAS;AACX;AAEA,SAAS,YAAY,WAAmB;IACtC,MAAM,UAAU,YAAY,WAAW;IAEvC,IAAI,QAAQ,QAAQ,CAAC,YAAY,QAAQ,QAAQ,CAAC,SAAS,QAAQ,QAAQ,CAAC,QAAQ;QAClF,OAAO,kBAAkB,QAAQ;IACnC;IAEA,IAAI,QAAQ,QAAQ,CAAC,cAAc,QAAQ,QAAQ,CAAC,YAAY,QAAQ,QAAQ,CAAC,aAAa,QAAQ,QAAQ,CAAC,eAAe;QAC5H,OAAO,kBAAkB,eAAe;IAC1C;IAEA,IAAI,QAAQ,QAAQ,CAAC,aAAa,QAAQ,QAAQ,CAAC,kBAAkB,QAAQ,QAAQ,CAAC,UAAU;QAC9F,OAAO,kBAAkB,QAAQ;IACnC;IAEA,IAAI,QAAQ,QAAQ,CAAC,cAAc,QAAQ,QAAQ,CAAC,UAAU,QAAQ,QAAQ,CAAC,cAAc;QAC3F,OAAO,kBAAkB,QAAQ;IACnC;IAEA,IAAI,QAAQ,QAAQ,CAAC,gBAAgB,QAAQ,QAAQ,CAAC,mBAAmB,QAAQ,QAAQ,CAAC,cAAc,QAAQ,QAAQ,CAAC,aAAa;QACpI,OAAO,kBAAkB,gBAAgB;IAC3C;IAEA,IAAI,QAAQ,QAAQ,CAAC,WAAW,QAAQ,QAAQ,CAAC,cAAc,QAAQ,QAAQ,CAAC,UAAU;QACxF,OAAO,kBAAkB,QAAQ;IACnC;IAEA,OAAO,kBAAkB,OAAO;AAClC;AAEO,eAAe,KAAK,KAAsC;IAC/D,IAAI;QACF,QAAQ,GAAG,CAAC;QAEZ,MAAM,EAAE,OAAO,EAAE,GAAG;QACpB,MAAM,cAAc,OAAO,CAAC,QAAQ,MAAM,GAAG,EAAE;QAC/C,MAAM,WAAW,aAAa,SAAS,CAAC,EAAE,EAAE,QAAQ;QAEpD,QAAQ,GAAG,CAAC,iBAAiB;QAE7B,2BAA2B;QAC3B,MAAM,eAAe,YAAY;QAEjC,0BAA0B;QAC1B,gBAAgB;YACd,MAAM,QAAQ,aAAa,KAAK,CAAC;YACjC,IAAI,cAAc;YAElB,IAAK,IAAI,IAAI,GAAG,IAAI,MAAM,MAAM,EAAE,IAAK;gBACrC,eAAe,CAAC,cAAc,MAAM,EAAE,IAAI,KAAK,CAAC,EAAE;gBAClD,MAAM;oBACJ,MAAM;oBACN,SAAS;wBAAC;4BAAE,MAAM;wBAAY;qBAAE;gBAClC;gBAEA,uCAAuC;gBACvC,MAAM,QAAQ,aAAa,MAAM,GAAG,MAAM,KAAK;gBAC/C,MAAM,IAAI,QAAQ,CAAA,UAAW,WAAW,SAAS;YACnD;QACF;QAEA,OAAO;IAET,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,wBAAwB;QAEtC,gBAAgB;YACd,MAAM;gBACJ,MAAM;gBACN,SAAS;oBAAC;wBAAE,MAAM;oBAA0F;iBAAE;YAChH;QACF;QAEA,OAAO;IACT;AACF;;;IA7CsB;;AAAA,+OAAA","debugId":null}},
    {"offset": {"line": 131, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/.next-internal/server/app/about/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {chat as '40e105b088951a73c5c090d9008c45acca3f19ece8'} from 'ACTIONS_MODULE0'\n"],"names":[],"mappings":";AAAA","debugId":null}},
    {"offset": {"line": 183, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/about/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/about/page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/about/page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA0R,GACvT,wDACA","debugId":null}},
    {"offset": {"line": 197, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/about/page.tsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/about/page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/about/page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAsQ,GACnS,oCACA","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}}]
}