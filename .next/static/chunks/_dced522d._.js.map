{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/BeadDisplay.tsx"],"sourcesContent":["\n'use client';\n\nimport React from 'react';\nimport { cn } from '@/lib/utils';\n\nconst Bead = ({\n  isUpper,\n  onClick,\n}: {\n  isUpper: boolean;\n  onClick: () => void;\n}) => {\n  return (\n    <div\n      onClick={onClick}\n      className=\"w-16 h-10 transition-transform duration-300 ease-in-out relative group cursor-pointer\"\n    >\n      <div\n        className={cn(\n          'absolute inset-0 rounded-full',\n          'bg-gradient-to-b from-[#b95d41] to-[#8c4307]',\n          'shadow-[inset_0_-2px_4px_rgba(0,0,0,0.4),_inset_0_2px_3px_rgba(255,255,255,0.3)]',\n          'border-2 border-[#78350f]'\n        )}\n      />\n    </div>\n  );\n};\n\nconst AbacusRod = ({\n  digit,\n  isUnitRod,\n  onBeadClick,\n}: {\n  digit: number;\n  isUnitRod: boolean;\n  onBeadClick: (value: number) => void;\n}) => {\n  const upperBeadActive = digit >= 5;\n  const lowerBeadsValue = digit % 5;\n  const rodHeight = 280;\n\n  return (\n    <div className=\"relative w-20 flex flex-col items-center\" style={{ height: `${rodHeight}px` }}>\n      {/* Rod */}\n      <div className=\"absolute h-full w-1.5 bg-[#4d2b1e] top-0 z-0 rounded-full\" />\n      \n      {/* Separator Bar */}\n       <div className=\"absolute top-[29%] left-[-8px] right-[-8px] h-4 bg-gradient-to-b from-[#e7c9a8] to-[#d4b48f] -translate-y-1/2 z-10 shadow-lg flex items-center justify-center border-y-2 border-black/50\">\n         {isUnitRod && <div className=\"h-2 w-2 bg-white rounded-full shadow-md border border-gray-400\"></div>}\n      </div>\n\n      {/* Upper Bead Section */}\n      <div className=\"w-full h-[29%] flex flex-col items-center justify-start z-20\">\n         <div className={cn(\"transition-transform duration-300 ease-in-out\", upperBeadActive ? 'translate-y-8' : 'translate-y-0')}>\n            <Bead isUpper={true} onClick={() => onBeadClick(5)} />\n         </div>\n      </div>\n\n       {/* Lower Beads Section */}\n      <div className=\"w-full flex-grow flex flex-col items-center justify-end z-20\">\n            {[...Array(4)].map((_, i) => {\n              // i is 0 for top bead, 3 for bottom bead\n              const beadIsActive = (i + 1) <= lowerBeadsValue;\n              \n              return (\n                 <div key={i} className={cn(\"transition-transform duration-300 ease-in-out\", beadIsActive ? '-translate-y-8' : 'translate-y-0')}>\n                    <Bead isUpper={false} onClick={() => onBeadClick(i + 1)} />\n                 </div>\n              )\n            })}\n      </div>\n    </div>\n  );\n};\n\nexport default function BeadDisplay({ value, onChange }: { value: number, onChange?: (newValue: number) => void }) {\n  const getDigits = (num: number) => num.toString().padStart(3, '0').split('').map(Number);\n  const digits = getDigits(value);\n\n  const handleBeadClick = (rodIndex: number, beadValue: number) => {\n    if (!onChange) return;\n    \n    const power = 2 - rodIndex;\n    const placeValue = Math.pow(10, power);\n    const currentDigits = getDigits(value);\n    let currentDigitOnRod = currentDigits[rodIndex];\n    let newDigitOnRod;\n\n    if (beadValue === 5) { // Upper bead clicked\n      if (currentDigitOnRod >= 5) { // Deactivate upper bead\n        newDigitOnRod = currentDigitOnRod - 5;\n      } else { // Activate upper bead\n        newDigitOnRod = currentDigitOnRod + 5;\n      }\n    } else { // Lower bead clicked (beadValue is 1, 2, 3, or 4)\n      const currentLowerValue = currentDigitOnRod % 5;\n      const isUpperActive = currentDigitOnRod >= 5;\n\n      // Group move logic\n      if (currentLowerValue === 0 && beadValue === 4) { // all inactive, click bottom one\n        newDigitOnRod = isUpperActive ? 9 : 4;\n      } else if (currentLowerValue === 4 && beadValue === 1) { // all active, click top one\n        newDigitOnRod = isUpperActive ? 5 : 0;\n      } else {\n        // Sequential move logic (top-down)\n        if (beadValue > currentLowerValue) {\n          // Activating this bead and all above it\n          newDigitOnRod = (currentDigitOnRod - currentLowerValue) + beadValue;\n        } else {\n          // Deactivating this bead and all below it\n          newDigitOnRod = (currentDigitOnRod - currentLowerValue) + (beadValue - 1);\n        }\n      }\n    }\n    \n    const currentValueOnRod = currentDigitOnRod * placeValue;\n    const newValueOnRod = newDigitOnRod * placeValue;\n    const finalValue = value - currentValueOnRod + newValueOnRod;\n    \n    onChange(finalValue);\n  };\n\n  return (\n    <div className=\"flex justify-center items-center p-4 rounded-lg border-4 border-[#a16207] shadow-2xl bg-[#c6a47f]\" style={{boxShadow: 'inset 0 0 10px #78350f, 0 8px 15px rgba(0,0,0,0.5)'}}>\n      <div className=\"flex flex-row bg-[#a6866a] p-2 rounded-md shadow-inner gap-x-2\">\n        {digits.map((digit, index) => (\n          <React.Fragment key={index}>\n            <AbacusRod \n              digit={digit} \n              isUnitRod={index === 2} // 0 is hundreds, 1 is tens, 2 is units\n              onBeadClick={(beadValue) => handleBeadClick(index, beadValue)}\n            />\n          </React.Fragment>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AAHA;;;;AAKA,MAAM,OAAO,CAAC,EACZ,OAAO,EACP,OAAO,EAIR;IACC,qBACE,6LAAC;QACC,SAAS;QACT,WAAU;kBAEV,cAAA,6LAAC;YACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,iCACA,gDACA,oFACA;;;;;;;;;;;AAKV;KAtBM;AAwBN,MAAM,YAAY,CAAC,EACjB,KAAK,EACL,SAAS,EACT,WAAW,EAKZ;IACC,MAAM,kBAAkB,SAAS;IACjC,MAAM,kBAAkB,QAAQ;IAChC,MAAM,YAAY;IAElB,qBACE,6LAAC;QAAI,WAAU;QAA2C,OAAO;YAAE,QAAQ,GAAG,UAAU,EAAE,CAAC;QAAC;;0BAE1F,6LAAC;gBAAI,WAAU;;;;;;0BAGd,6LAAC;gBAAI,WAAU;0BACZ,2BAAa,6LAAC;oBAAI,WAAU;;;;;;;;;;;0BAIhC,6LAAC;gBAAI,WAAU;0BACZ,cAAA,6LAAC;oBAAI,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iDAAiD,kBAAkB,kBAAkB;8BACrG,cAAA,6LAAC;wBAAK,SAAS;wBAAM,SAAS,IAAM,YAAY;;;;;;;;;;;;;;;;0BAKtD,6LAAC;gBAAI,WAAU;0BACR;uBAAI,MAAM;iBAAG,CAAC,GAAG,CAAC,CAAC,GAAG;oBACrB,yCAAyC;oBACzC,MAAM,eAAe,AAAC,IAAI,KAAM;oBAEhC,qBACG,6LAAC;wBAAY,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iDAAiD,eAAe,mBAAmB;kCAC3G,cAAA,6LAAC;4BAAK,SAAS;4BAAO,SAAS,IAAM,YAAY,IAAI;;;;;;uBAD9C;;;;;gBAIf;;;;;;;;;;;;AAIZ;MA7CM;AA+CS,SAAS,YAAY,EAAE,KAAK,EAAE,QAAQ,EAA4D;IAC/G,MAAM,YAAY,CAAC,MAAgB,IAAI,QAAQ,GAAG,QAAQ,CAAC,GAAG,KAAK,KAAK,CAAC,IAAI,GAAG,CAAC;IACjF,MAAM,SAAS,UAAU;IAEzB,MAAM,kBAAkB,CAAC,UAAkB;QACzC,IAAI,CAAC,UAAU;QAEf,MAAM,QAAQ,IAAI;QAClB,MAAM,aAAa,KAAK,GAAG,CAAC,IAAI;QAChC,MAAM,gBAAgB,UAAU;QAChC,IAAI,oBAAoB,aAAa,CAAC,SAAS;QAC/C,IAAI;QAEJ,IAAI,cAAc,GAAG;YACnB,IAAI,qBAAqB,GAAG;gBAC1B,gBAAgB,oBAAoB;YACtC,OAAO;gBACL,gBAAgB,oBAAoB;YACtC;QACF,OAAO;YACL,MAAM,oBAAoB,oBAAoB;YAC9C,MAAM,gBAAgB,qBAAqB;YAE3C,mBAAmB;YACnB,IAAI,sBAAsB,KAAK,cAAc,GAAG;gBAC9C,gBAAgB,gBAAgB,IAAI;YACtC,OAAO,IAAI,sBAAsB,KAAK,cAAc,GAAG;gBACrD,gBAAgB,gBAAgB,IAAI;YACtC,OAAO;gBACL,mCAAmC;gBACnC,IAAI,YAAY,mBAAmB;oBACjC,wCAAwC;oBACxC,gBAAgB,AAAC,oBAAoB,oBAAqB;gBAC5D,OAAO;oBACL,0CAA0C;oBAC1C,gBAAgB,AAAC,oBAAoB,oBAAqB,CAAC,YAAY,CAAC;gBAC1E;YACF;QACF;QAEA,MAAM,oBAAoB,oBAAoB;QAC9C,MAAM,gBAAgB,gBAAgB;QACtC,MAAM,aAAa,QAAQ,oBAAoB;QAE/C,SAAS;IACX;IAEA,qBACE,6LAAC;QAAI,WAAU;QAAoG,OAAO;YAAC,WAAW;QAAoD;kBACxL,cAAA,6LAAC;YAAI,WAAU;sBACZ,OAAO,GAAG,CAAC,CAAC,OAAO,sBAClB,6LAAC,6JAAA,CAAA,UAAK,CAAC,QAAQ;8BACb,cAAA,6LAAC;wBACC,OAAO;wBACP,WAAW,UAAU;wBACrB,aAAa,CAAC,YAAc,gBAAgB,OAAO;;;;;;mBAJlC;;;;;;;;;;;;;;;AAW/B;MA9DwB","debugId":null}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/hooks/usePageBackground.tsx"],"sourcesContent":["\n'use client';\n\nimport { useEffect } from 'react';\n\nexport function usePageBackground(imageUrl: string) {\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n        if (imageUrl) {\n            document.body.style.backgroundImage = `url('${imageUrl}')`;\n        } else {\n            document.body.style.backgroundImage = '';\n            document.body.style.backgroundColor = 'var(--background)';\n        }\n    }\n\n    return () => {\n      if (typeof window !== 'undefined') {\n        document.body.style.backgroundImage = '';\n      }\n    };\n  }, [imageUrl]);\n}\n"],"names":[],"mappings":";;;AAGA;;AAFA;;AAIO,SAAS,kBAAkB,QAAgB;;IAChD,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;uCAAE;YACR,wCAAmC;gBAC/B,IAAI,UAAU;oBACV,SAAS,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG,CAAC,KAAK,EAAE,SAAS,EAAE,CAAC;gBAC9D,OAAO;oBACH,SAAS,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG;oBACtC,SAAS,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG;gBAC1C;YACJ;YAEA;+CAAO;oBACL,wCAAmC;wBACjC,SAAS,IAAI,CAAC,KAAK,CAAC,eAAe,GAAG;oBACxC;gBACF;;QACF;sCAAG;QAAC;KAAS;AACf;GAjBgB","debugId":null}},
    {"offset": {"line": 252, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/components/ui/label.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef<\n  React.ElementRef<typeof LabelPrimitive.Root>,\n  React.ComponentPropsWithoutRef<typeof LabelPrimitive.Root> &\n    VariantProps<typeof labelVariants>\n>(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root\n    ref={ref}\n    className={cn(labelVariants(), className)}\n    {...props}\n  />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,CAAA,GAAA,6JAAA,CAAA,aAAgB,AAAD,OAI3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oKAAA,CAAA,OAAmB;QAClB,KAAK;QACL,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAC9B,GAAG,KAAK;;;;;;;AAGb,MAAM,WAAW,GAAG,oKAAA,CAAA,OAAmB,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 291, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/src/app/tool-preview/page.tsx"],"sourcesContent":["\n'use client';\n\nimport BeadDisplay from '@/components/BeadDisplay';\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from '@/components/ui/card';\nimport { usePageBackground } from '@/hooks/usePageBackground';\nimport { Suspense, useEffect, useState } from 'react';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport { useSearchParams } from 'next/navigation';\n\nfunction ToolPreviewContent() {\n  const searchParams = useSearchParams();\n  const initialValue = searchParams.get('value');\n  const [value, setValue] = useState(123);\n\n  useEffect(() => {\n    if (initialValue !== null) {\n      const num = parseInt(initialValue, 10);\n      if (!isNaN(num) && num >= 0 && num <= 999) {\n        setValue(num);\n      }\n    }\n  }, [initialValue]);\n\n  const handleValueChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const num = parseInt(e.target.value, 10);\n    if (!isNaN(num) && num >= 0 && num <= 999) {\n      setValue(num);\n    } else if (e.target.value === '') {\n      setValue(0);\n    }\n  };\n\n  const handleAbacusChange = (newValue: number) => {\n    setValue(newValue);\n  };\n\n  return (\n    <div className=\"flex flex-col items-center justify-center space-y-8\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader>\n          <CardTitle>Abacus Tool Preview</CardTitle>\n          <CardDescription>\n            Review the abacus tool here. Adjust the value to see how it looks, or click the beads to change the value.\n          </CardDescription>\n        </CardHeader>\n        <CardContent className=\"flex flex-col items-center gap-6\">\n           <div className=\"w-full max-w-xs\">\n             <Label htmlFor=\"abacus-value\">Enter a value (0-999)</Label>\n             <Input\n                id=\"abacus-value\"\n                type=\"number\"\n                value={value}\n                onChange={handleValueChange}\n                min=\"0\"\n                max=\"999\"\n             />\n           </div>\n          <BeadDisplay value={value} onChange={handleAbacusChange} />\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n\nexport default function ToolPreviewPage() {\n  usePageBackground('https://firebasestorage.googleapis.com/v0/b/abacusace-mmnqw.appspot.com/o/tool_preview_bg.jpg?alt=media');\n\n  return (\n    <Suspense fallback={<div>Loading...</div>}>\n      <ToolPreviewContent />\n    </Suspense>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUA,SAAS;;IACP,MAAM,eAAe,CAAA,GAAA,qIAAA,CAAA,kBAAe,AAAD;IACnC,MAAM,eAAe,aAAa,GAAG,CAAC;IACtC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;wCAAE;YACR,IAAI,iBAAiB,MAAM;gBACzB,MAAM,MAAM,SAAS,cAAc;gBACnC,IAAI,CAAC,MAAM,QAAQ,OAAO,KAAK,OAAO,KAAK;oBACzC,SAAS;gBACX;YACF;QACF;uCAAG;QAAC;KAAa;IAEjB,MAAM,oBAAoB,CAAC;QACzB,MAAM,MAAM,SAAS,EAAE,MAAM,CAAC,KAAK,EAAE;QACrC,IAAI,CAAC,MAAM,QAAQ,OAAO,KAAK,OAAO,KAAK;YACzC,SAAS;QACX,OAAO,IAAI,EAAE,MAAM,CAAC,KAAK,KAAK,IAAI;YAChC,SAAS;QACX;IACF;IAEA,MAAM,qBAAqB,CAAC;QAC1B,SAAS;IACX;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,mIAAA,CAAA,OAAI;YAAC,WAAU;;8BACd,6LAAC,mIAAA,CAAA,aAAU;;sCACT,6LAAC,mIAAA,CAAA,YAAS;sCAAC;;;;;;sCACX,6LAAC,mIAAA,CAAA,kBAAe;sCAAC;;;;;;;;;;;;8BAInB,6LAAC,mIAAA,CAAA,cAAW;oBAAC,WAAU;;sCACpB,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,oIAAA,CAAA,QAAK;oCAAC,SAAQ;8CAAe;;;;;;8CAC9B,6LAAC,oIAAA,CAAA,QAAK;oCACH,IAAG;oCACH,MAAK;oCACL,OAAO;oCACP,UAAU;oCACV,KAAI;oCACJ,KAAI;;;;;;;;;;;;sCAGV,6LAAC,oIAAA,CAAA,UAAW;4BAAC,OAAO;4BAAO,UAAU;;;;;;;;;;;;;;;;;;;;;;;AAK/C;GArDS;;QACc,qIAAA,CAAA,kBAAe;;;KAD7B;AAuDM,SAAS;;IACtB,CAAA,GAAA,qIAAA,CAAA,oBAAiB,AAAD,EAAE;IAElB,qBACE,6LAAC,6JAAA,CAAA,WAAQ;QAAC,wBAAU,6LAAC;sBAAI;;;;;;kBACvB,cAAA,6LAAC;;;;;;;;;;AAGP;IARwB;;QACtB,qIAAA,CAAA,oBAAiB;;;MADK","debugId":null}},
    {"offset": {"line": 471, "column": 0}, "map": {"version":3,"sources":["file:///home/user/studio/node_modules/%40radix-ui/react-label/src/label.tsx"],"sourcesContent":["import * as React from 'react';\nimport { Primitive } from '@radix-ui/react-primitive';\n\n/* -------------------------------------------------------------------------------------------------\n * Label\n * -----------------------------------------------------------------------------------------------*/\n\nconst NAME = 'Label';\n\ntype LabelElement = React.ElementRef<typeof Primitive.label>;\ntype PrimitiveLabelProps = React.ComponentPropsWithoutRef<typeof Primitive.label>;\ninterface LabelProps extends PrimitiveLabelProps {}\n\nconst Label = React.forwardRef<LabelElement, LabelProps>((props, forwardedRef) => {\n  return (\n    <Primitive.label\n      {...props}\n      ref={forwardedRef}\n      onMouseDown={(event) => {\n        // only prevent text selection if clicking inside the label itself\n        const target = event.target as HTMLElement;\n        if (target.closest('button, input, select, textarea')) return;\n\n        props.onMouseDown?.(event);\n        // prevent text selection when double clicking label\n        if (!event.defaultPrevented && event.detail > 1) event.preventDefault();\n      }}\n    />\n  );\n});\n\nLabel.displayName = NAME;\n\n/* -----------------------------------------------------------------------------------------------*/\n\nconst Root = Label;\n\nexport {\n  Label,\n  //\n  Root,\n};\nexport type { LabelProps };\n"],"names":[],"mappings":";;;;;AAAA,YAAY,WAAW;AACvB,SAAS,iBAAiB;AActB;;;;;AARJ,IAAM,OAAO;AAMb,IAAM,0KAAc,aAAA,EAAqC,CAAC,OAAO,iBAAiB;IAChF,OACE,aAAA,GAAA,CAAA,GAAA,sKAAA,CAAA,MAAA,2KAAC,YAAA,CAAU,KAAA,EAAV;QACE,GAAG,KAAA;QACJ,KAAK;QACL,aAAa,CAAC,UAAU;YAEtB,MAAM,SAAS,MAAM,MAAA;YACrB,IAAI,OAAO,OAAA,CAAQ,iCAAiC,EAAG,CAAA;YAEvD,MAAM,WAAA,GAAc,KAAK;YAEzB,IAAI,CAAC,MAAM,gBAAA,IAAoB,MAAM,MAAA,GAAS,EAAG,CAAA,MAAM,cAAA,CAAe;QACxE;IAAA;AAGN,CAAC;AAED,MAAM,WAAA,GAAc;AAIpB,IAAM,OAAO","ignoreList":[0],"debugId":null}}]
}